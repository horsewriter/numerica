---
export interface Props {
	title: string;
}

const { title } = Astro.props;
---

<!DOCTYPE html>
<html lang="es">
	<head>
		<meta charset="UTF-8" />
		<meta name="description" content="Numérica - Plataforma de Subastas de Maquinaria Industrial" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<link rel="icon" type="image/svg+xml" href="/favicon.svg" />
		<meta name="generator" content={Astro.generator} />
		<title>{title}</title>
		<style>
			* {
				margin: 0;
				padding: 0;
				box-sizing: border-box;
			}

			body {
				font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
				background: linear-gradient(135deg, #1a2332 0%, #2d3748 100%);
				color: #ffffff;
				min-height: 100vh;
			}

			.container {
				max-width: 1200px;
				margin: 0 auto;
				padding: 0 20px;
			}

			.header {
				background: rgba(26, 35, 50, 0.95);
				backdrop-filter: blur(10px);
				border-bottom: 1px solid rgba(255, 255, 255, 0.1);
				position: sticky;
				top: 0;
				z-index: 100;
			}

			.nav {
				display: flex;
				justify-content: space-between;
				align-items: center;
				padding: 1rem 0;
			}

			.logo {
				display: flex;
				align-items: center;
				gap: 1rem;
			}

			.logo img {
				height: 50px;
				width: auto;
			}

			.logo-text {
				font-size: 1.5rem;
				font-weight: bold;
				color: #d4af37;
			}

			.nav-links {
				display: flex;
				gap: 2rem;
				list-style: none;
			}

			.nav-links a {
				color: #ffffff;
				text-decoration: none;
				font-weight: 500;
				transition: color 0.3s ease;
			}

			.nav-links a:hover {
				color: #d4af37;
			}

			.auth-buttons {
				display: flex;
				gap: 1rem;
			}

			.btn {
				padding: 0.5rem 1.5rem;
				border: none;
				border-radius: 8px;
				font-weight: 600;
				text-decoration: none;
				cursor: pointer;
				transition: all 0.3s ease;
				display: inline-block;
				text-align: center;
			}

			.btn-primary {
				background: linear-gradient(135deg, #d4af37 0%, #f4d03f 100%);
				color: #1a2332;
			}

			.btn-primary:hover {
				transform: translateY(-2px);
				box-shadow: 0 8px 25px rgba(212, 175, 55, 0.3);
			}

			.btn-secondary {
				background: transparent;
				color: #ffffff;
				border: 2px solid rgba(255, 255, 255, 0.3);
			}

			.btn-secondary:hover {
				background: rgba(255, 255, 255, 0.1);
				border-color: #d4af37;
			}

			.main-content {
				min-height: calc(100vh - 80px);
			}

			.footer {
				background: rgba(26, 35, 50, 0.95);
				border-top: 1px solid rgba(255, 255, 255, 0.1);
				padding: 2rem 0;
				text-align: center;
				color: rgba(255, 255, 255, 0.7);
			}

			@media (max-width: 768px) {
				.nav {
					flex-direction: column;
					gap: 1rem;
				}

				.nav-links {
					gap: 1rem;
				}

				.auth-buttons {
					flex-direction: column;
					width: 100%;
				}

				.btn {
					width: 100%;
				}
			}
		</style>
	</head>
	<body>
		<header class="header">
			<div class="container">
				<nav class="nav">
					<div class="logo">
						<img src="/images/numerica_logo.jpg" alt="Numérica Logo" />
						<span class="logo-text">NUMÉRICA</span>
					</div>
					<ul class="nav-links">
						<li><a href="/">Inicio</a></li>
						<li><a href="/subastas">Subastas</a></li>
						<li><a href="/admin">Admin</a></li>
					</ul>
					<div class="auth-buttons" id="authButtons">
						<a href="/login" class="btn btn-secondary">Iniciar Sesión</a>
						<a href="/register" class="btn btn-primary">Registrarse</a>
					</div>
				</nav>
			</div>
		</header>

		<main class="main-content">
			<slot />
		</main>

		<footer class="footer">
			<div class="container">
				<p>&copy; 2025 Numérica - Venta de Maquinaria. Todos los derechos reservados.</p>
			</div>
		</footer>

		<script>
			// Check if user is logged in
			const token = localStorage.getItem('userToken');
			const user = localStorage.getItem('userData');
			
			if (token && user) {
				const userData = JSON.parse(user);
				const authButtons = document.getElementById('authButtons');
				authButtons.innerHTML = `
					<span style="color: #d4af37;">Hola, ${userData.name}</span>
					<button class="btn btn-secondary" onclick="logout()">Cerrar Sesión</button>
				`;
			}

			function logout() {
				localStorage.removeItem('userToken');
				localStorage.removeItem('userData');
				window.location.href = '/';
			}

			// Make logout function global
			window.logout = logout;
		</script>
	</body>
</html>

