---
export interface Props {
	title: string;
}

const { title } = Astro.props;
---

<!DOCTYPE html>
<html lang="es">
	<head>
		<meta charset="UTF-8" />
		<meta name="description" content="Numérica - Plataforma de Subastas de Maquinaria Industrial" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<link rel="icon" type="image/svg+xml" href="/favicon.svg" />
		<meta name="generator" content={Astro.generator} />
		<title>{title}</title>
		<style>
			:root {
				--primary-color: #2563eb;
				--primary-dark: #1d4ed8;
				--secondary-color: #64748b;
				--accent-color: #f59e0b;
				--success-color: #10b981;
				--error-color: #ef4444;
				--warning-color: #f59e0b;
				
				--gray-50: #f8fafc;
				--gray-100: #f1f5f9;
				--gray-200: #e2e8f0;
				--gray-300: #cbd5e1;
				--gray-400: #94a3b8;
				--gray-500: #64748b;
				--gray-600: #475569;
				--gray-700: #334155;
				--gray-800: #1e293b;
				--gray-900: #0f172a;
				
				--border-radius: 8px;
				--border-radius-lg: 12px;
				--shadow-sm: 0 1px 2px 0 rgb(0 0 0 / 0.05);
				--shadow: 0 1px 3px 0 rgb(0 0 0 / 0.1), 0 1px 2px -1px rgb(0 0 0 / 0.1);
				--shadow-lg: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);
				--shadow-xl: 0 20px 25px -5px rgb(0 0 0 / 0.1), 0 8px 10px -6px rgb(0 0 0 / 0.1);
			}

			* {
				margin: 0;
				padding: 0;
				box-sizing: border-box;
			}

			body {
				font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
				background-color: var(--gray-50);
				color: var(--gray-900);
				line-height: 1.6;
				min-height: 100vh;
			}

			.container {
				max-width: 1200px;
				margin: 0 auto;
				padding: 0 1rem;
			}

			.header {
				background: white;
				border-bottom: 1px solid var(--gray-200);
				position: sticky;
				top: 0;
				z-index: 100;
				box-shadow: var(--shadow-sm);
			}

			.nav {
				display: flex;
				justify-content: space-between;
				align-items: center;
				padding: 1rem 0;
			}

			.logo {
				display: flex;
				align-items: center;
				gap: 0.75rem;
				text-decoration: none;
			}

			.logo img {
				height: 40px;
				width: auto;
				border-radius: var(--border-radius);
			}

			.logo-text {
				font-size: 1.5rem;
				font-weight: 700;
				color: var(--primary-color);
				letter-spacing: -0.025em;
			}

			.nav-links {
				display: flex;
				gap: 2rem;
				list-style: none;
			}

			.nav-links a {
				color: var(--gray-600);
				text-decoration: none;
				font-weight: 500;
				transition: color 0.2s ease;
				padding: 0.5rem 0;
			}

			.nav-links a:hover,
			.nav-links a.active {
				color: var(--primary-color);
			}

			.auth-buttons {
				display: flex;
				gap: 0.75rem;
				align-items: center;
			}

			.user-info {
				display: flex;
				align-items: center;
				gap: 0.75rem;
				color: var(--gray-700);
				font-weight: 500;
			}

			.btn {
				display: inline-flex;
				align-items: center;
				justify-content: center;
				padding: 0.5rem 1rem;
				border: 1px solid transparent;
				border-radius: var(--border-radius);
				font-weight: 500;
				font-size: 0.875rem;
				text-decoration: none;
				cursor: pointer;
				transition: all 0.2s ease;
				white-space: nowrap;
			}

			.btn:disabled {
				opacity: 0.6;
				cursor: not-allowed;
			}

			.btn-primary {
				background-color: var(--primary-color);
				color: white;
			}

			.btn-primary:hover:not(:disabled) {
				background-color: var(--primary-dark);
			}

			.btn-secondary {
				background-color: white;
				color: var(--gray-700);
				border-color: var(--gray-300);
			}

			.btn-secondary:hover:not(:disabled) {
				background-color: var(--gray-50);
				border-color: var(--gray-400);
			}

			.btn-outline {
				background-color: transparent;
				color: var(--primary-color);
				border-color: var(--primary-color);
			}

			.btn-outline:hover:not(:disabled) {
				background-color: var(--primary-color);
				color: white;
			}

			.btn-sm {
				padding: 0.375rem 0.75rem;
				font-size: 0.8125rem;
			}

			.btn-lg {
				padding: 0.75rem 1.5rem;
				font-size: 1rem;
			}

			.main-content {
				min-height: calc(100vh - 140px);
			}

			.footer {
				background: white;
				border-top: 1px solid var(--gray-200);
				padding: 2rem 0;
				margin-top: 4rem;
			}

			.footer-content {
				text-align: center;
				color: var(--gray-500);
				font-size: 0.875rem;
			}

			/* Form Styles */
			.form-group {
				margin-bottom: 1.5rem;
			}

			.form-label {
				display: block;
				margin-bottom: 0.5rem;
				font-weight: 500;
				color: var(--gray-700);
			}

			.form-input {
				width: 100%;
				padding: 0.75rem;
				border: 1px solid var(--gray-300);
				border-radius: var(--border-radius);
				font-size: 1rem;
				transition: border-color 0.2s ease, box-shadow 0.2s ease;
			}

			.form-input:focus {
				outline: none;
				border-color: var(--primary-color);
				box-shadow: 0 0 0 3px rgb(37 99 235 / 0.1);
			}

			.form-input::placeholder {
				color: var(--gray-400);
			}

			.form-textarea {
				resize: vertical;
				min-height: 100px;
			}

			.form-select {
				background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%236b7280' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='m6 8 4 4 4-4'/%3e%3c/svg%3e");
				background-position: right 0.5rem center;
				background-repeat: no-repeat;
				background-size: 1.5em 1.5em;
				padding-right: 2.5rem;
			}

			/* Alert Styles */
			.alert {
				padding: 1rem;
				border-radius: var(--border-radius);
				margin-bottom: 1rem;
				font-weight: 500;
			}

			.alert-success {
				background-color: rgb(16 185 129 / 0.1);
				border: 1px solid rgb(16 185 129 / 0.2);
				color: rgb(5 150 105);
			}

			.alert-error {
				background-color: rgb(239 68 68 / 0.1);
				border: 1px solid rgb(239 68 68 / 0.2);
				color: rgb(220 38 38);
			}

			.alert-warning {
				background-color: rgb(245 158 11 / 0.1);
				border: 1px solid rgb(245 158 11 / 0.2);
				color: rgb(217 119 6);
			}

			/* Card Styles */
			.card {
				background: white;
				border: 1px solid var(--gray-200);
				border-radius: var(--border-radius-lg);
				box-shadow: var(--shadow-sm);
			}

			.card-header {
				padding: 1.5rem;
				border-bottom: 1px solid var(--gray-200);
			}

			.card-body {
				padding: 1.5rem;
			}

			.card-footer {
				padding: 1.5rem;
				border-top: 1px solid var(--gray-200);
				background-color: var(--gray-50);
			}

			/* Loading Spinner */
			.spinner {
				width: 24px;
				height: 24px;
				border: 2px solid var(--gray-200);
				border-top: 2px solid var(--primary-color);
				border-radius: 50%;
				animation: spin 1s linear infinite;
			}

			@keyframes spin {
				0% { transform: rotate(0deg); }
				100% { transform: rotate(360deg); }
			}

			/* Responsive Design */
			@media (max-width: 768px) {
				.container {
					padding: 0 0.75rem;
				}

				.nav {
					flex-direction: column;
					gap: 1rem;
					padding: 1rem 0;
				}

				.nav-links {
					gap: 1.5rem;
				}

				.auth-buttons {
					flex-direction: column;
					width: 100%;
				}

				.btn {
					width: 100%;
					justify-content: center;
				}

				.user-info {
					flex-direction: column;
					text-align: center;
				}
			}

			@media (max-width: 640px) {
				.nav-links {
					flex-direction: column;
					gap: 0.5rem;
					text-align: center;
				}
			}
		</style>
	</head>
	<body>
		<header class="header">
			<div class="container">
				<nav class="nav">
					<a href="/" class="logo">
						<img src="/images/numerica_logo.jpg" alt="Numérica Logo" />
						<span class="logo-text">NUMÉRICA</span>
					</a>
					<ul class="nav-links">
						<li><a href="/" class={Astro.url.pathname === '/' ? 'active' : ''}>Inicio</a></li>
						<li><a href="/subastas" class={Astro.url.pathname === '/subastas' ? 'active' : ''}>Subastas</a></li>
						<li><a href="/admin" class={Astro.url.pathname === '/admin' ? 'active' : ''}>Administración</a></li>
					</ul>
					<div class="auth-buttons" id="authButtons">
						<a href="/login" class="btn btn-outline btn-sm">Iniciar Sesión</a>
						<a href="/register" class="btn btn-primary btn-sm">Registrarse</a>
					</div>
				</nav>
			</div>
		</header>

		<main class="main-content">
			<slot />
		</main>

		<footer class="footer">
			<div class="container">
				<div class="footer-content">
					<p>&copy; 2025 Numérica - Plataforma de Subastas de Maquinaria Industrial. Todos los derechos reservados.</p>
				</div>
			</div>
		</footer>

		<script>
			// Check if user is logged in
			const token = localStorage.getItem('userToken');
			const user = localStorage.getItem('userData');
			
			if (token && user) {
				const userData = JSON.parse(user);
				const authButtons = document.getElementById('authButtons');
				authButtons.innerHTML = `
					<div class="user-info">
						<span>Hola, ${userData.name}</span>
						<button class="btn btn-secondary btn-sm" onclick="logout()">Cerrar Sesión</button>
					</div>
				`;
			}

			function logout() {
				localStorage.removeItem('userToken');
				localStorage.removeItem('userData');
				window.location.href = '/';
			}

			// Make logout function global
			window.logout = logout;
		</script>
	</body>
</html>